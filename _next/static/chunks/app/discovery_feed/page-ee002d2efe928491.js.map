{"version":3,"file":"static/chunks/app/discovery_feed/page-ee002d2efe928491.js","mappings":"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","sources":["webpack://_N_E/./src/lib/utils.ts","webpack://_N_E/./src/components/ui/input.tsx","webpack://_N_E/./src/components/ui/card.tsx","webpack://_N_E/./src/components/layout/PostCard.tsx","webpack://_N_E/./src/components/layout/MainNav.tsx","webpack://_N_E/./src/utils/pathUtils.ts","webpack://_N_E/./src/app/discovery_feed/page.tsx","webpack://_N_E/?e45a"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n","import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n","import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n","import {Card, CardContent, CardHeader} from \"@/components/ui/card\";\r\nimport Image from \"next/image\";\r\n\r\n\r\ninterface Post {\r\n    id: number;\r\n    username: string;\r\n    title: string;\r\n    content?: string;\r\n    likes: number;\r\n    comments: number;\r\n    tags?: string[];\r\n    coverColor: string;\r\n    imageUrl: string;\r\n}\r\n\r\nexport default function PostCard({post}: { post: Post }) {\r\n    return (\r\n        <Card className=\"overflow-hidden transition-shadow duration-300 hover:shadow-md\">\r\n            {/* 封面图片 */}\r\n            {/*<div className={`h-48 relative ${post.coverColor}`}>*/}\r\n            {/*    <Image*/}\r\n            {/*        src={post.imageUrl}*/}\r\n            {/*        alt={post.title}*/}\r\n            {/*        layout=\"fill\"*/}\r\n            {/*        objectFit=\"contain\"*/}\r\n            {/*        className=\"w-full h-full object-cover\"*/}\r\n            {/*        quality={75}*/}\r\n            {/*        placeholder=\"blur\"*/}\r\n            {/*        blurDataURL=\"/assets/placeholder.png\"*/}\r\n            {/*    />*/}\r\n            {/*    /!*<div className=\"absolute top-2 right-2\">*!/*/}\r\n            {/*    /!*    <button className=\"bg-white/80 backdrop-blur-sm h-8 w-8 rounded-full flex items-center justify-center\">*!/*/}\r\n            {/*    /!*        <Heart className=\"text-red-500 w-4 h-4\" />*!/*/}\r\n            {/*    /!*    </button>*!/*/}\r\n            {/*    /!*</div>*!/*/}\r\n            {/*</div>*/}\r\n            {/* 紧凑型图片区域 - 高度减小30% */}\r\n            <div className=\"relative aspect-[1.15]\">\r\n                {post.imageUrl ? (\r\n                    <Image\r\n                        src={post.imageUrl}\r\n                        alt={post.title}\r\n                        fill\r\n                        className=\"object-cover\"\r\n                        sizes=\"(max-width: 334px) 100vw, 50vw\"\r\n                        placeholder=\"blur\"\r\n                        blurDataURL=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10'%3E%3Crect width='10' height='10' fill='%23f0f0f0'/%3E%3C/svg%3E\"\r\n                    />\r\n                ) : (\r\n                    <div\r\n                        className=\"w-full h-full bg-gradient-to-r from-gray-50 to-gray-100 flex items-center justify-center p-2\">\r\n            <span className=\"text-sm font-medium text-gray-600 px-4 text-center line-clamp-3\">\r\n              {post.title}\r\n            </span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/*<div className=\"relative aspect-[4/5]\">*/}\r\n            {/*    {post.imageUrl ? (*/}\r\n            {/*        <Image*/}\r\n            {/*            src={post.imageUrl}*/}\r\n            {/*            alt={post.title}*/}\r\n            {/*            fill*/}\r\n            {/*            className=\"object-cover\"*/}\r\n            {/*            sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\"*/}\r\n            {/*            placeholder=\"blur\"*/}\r\n            {/*            blurDataURL={`data:image/svg+xml;base64,${btoa(*/}\r\n            {/*                `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10 10\" preserveAspectRatio=\"none\">*/}\r\n            {/*    <rect width=\"10\" height=\"10\" fill=\"${post.coverColor?.replace('bg-', '') || '#f9f9f9'}\"/>*/}\r\n            {/*  </svg>`*/}\r\n            {/*            )}`}*/}\r\n            {/*        />*/}\r\n            {/*    ) : (*/}\r\n            {/*        <div className={cn(*/}\r\n            {/*            \"w-full h-full flex items-center justify-center\",*/}\r\n            {/*            post.coverColor || \"bg-gradient-to-r from-pink-100 to-purple-100\"*/}\r\n            {/*        )}>*/}\r\n            {/*<span className=\"text-lg font-bold text-gray-700 px-4 text-center\">*/}\r\n            {/*  {post.title}*/}\r\n            {/*</span>*/}\r\n            {/*        </div>*/}\r\n            {/*    )}*/}\r\n            {/*</div>*/}\r\n\r\n\r\n            {/* 内容区 */}\r\n            <CardContent className=\"p-4\">\r\n                <CardHeader className=\"p-0 pb-2\">\r\n                    <h3 className=\"font-bold text-base line-clamp-2\">{post.title}</h3>\r\n                </CardHeader>\r\n\r\n                {\r\n                    post.content && (\r\n                        <p className=\"text-gray-500 text-sm mt-1 line-clamp-2 whitespace-pre-line\">\r\n                            {post.content}\r\n                        </p>\r\n                    )\r\n                }\r\n\r\n                {/*    <div className=\"flex items-center mt-3\">*/\r\n                }\r\n                {/*        /!* 用户信息 *!/*/\r\n                }\r\n                {/*        <div className=\"flex items-center\">*/\r\n                }\r\n                {/*            <div className=\"w-6 h-6 rounded-full bg-gradient-to-r from-pink-500 to-red-500 flex items-center justify-center text-white text-xs\">*/\r\n                }\r\n                {/*                {post.username.charAt(0)}*/\r\n                }\r\n                {/*            </div>*/\r\n                }\r\n                {/*            <span className=\"ml-2 text-sm text-gray-500\">*/\r\n                }\r\n                {/*  {post.username}*/\r\n                }\r\n                {/*</span>*/\r\n                }\r\n                {/*        </div>*/\r\n                }\r\n\r\n                {/*        /!* 互动数据 *!/*/\r\n                }\r\n                {/*        <div className=\"flex items-center ml-auto text-gray-400\">*/\r\n                }\r\n                {/*            <Heart className=\"w-4 h-4\" />*/\r\n                }\r\n                {/*            <span className=\"ml-1 text-xs\">{post.likes}</span>*/\r\n                }\r\n                {/*            <MessageSquare className=\"w-4 h-4 ml-3\" />*/\r\n                }\r\n                {/*            <span className=\"ml-1 text-xs\">{post.comments}</span>*/\r\n                }\r\n                {/*        </div>*/\r\n                }\r\n                {/*    </div>*/\r\n                }\r\n\r\n                {/*标签*/}\r\n                {\r\n                    post.tags && post.tags.length > 0 && (\r\n                        <div className=\"flex flex-wrap gap-1 mt-3\">\r\n                            {post.tags.map((tag, index) => (\r\n                                <span\r\n                                    key={index}\r\n                                    className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs text-gray-500\"\r\n                                >\r\n                #{tag}\r\n              </span>\r\n                            ))}\r\n                        </div>\r\n                    )\r\n                }\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n        ;\r\n}\r\n","\"use client\";\r\nimport {useState, useRef} from \"react\";\r\nimport {Input} from \"@/components/ui/input\";\r\nimport {cn} from \"@/lib/utils\";\r\n\r\n// 新增回调接口类型\r\ninterface MainNavProps {\r\n    items: { id: number; name: string }[];\r\n    onCategoryChange?: (id: number) => void; // 分类变化回调\r\n    onSearch?: (value: string) => void;      // 搜索回调\r\n}\r\n\r\nexport default function MainNav(\r\n    {\r\n        items,\r\n        onCategoryChange,\r\n        onSearch\r\n    }: MainNavProps\r\n) {\r\n    const [activeId, setActiveId] = useState(1);\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n    const handleItemClick = (id: number) => {\r\n        setActiveId(id);\r\n        if (onCategoryChange) onCategoryChange(id);\r\n    };\r\n\r\n    const handleSearch = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (onSearch) onSearch(searchValue);\r\n    };\r\n\r\n    // 滚动导航到中央位置（移动端优化）\r\n    const scrollToCenter = (element: HTMLElement) => {\r\n        const container = scrollContainerRef.current;\r\n        if (!container) return;\r\n\r\n        const containerWidth = container.offsetWidth;\r\n        const elementLeft = element.offsetLeft;\r\n        const elementWidth = element.offsetWidth;\r\n\r\n        container.scrollTo({\r\n            left: elementLeft - containerWidth / 2 + elementWidth / 2,\r\n            behavior: \"smooth\"\r\n        });\r\n    };\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-10 bg-white border-b border-gray-200 px-4 py-2\">\r\n            <div className=\"flex items-center gap-3\">\r\n                {/* Logo */}\r\n                <div className=\"w-9 h-9 rounded-full bg-gradient-to-r from-pink-500 to-red-500\"/>\r\n\r\n                {/* 搜索框 */}\r\n                <form onSubmit={handleSearch} className=\"flex-1\">\r\n                    <Input\r\n                        type=\"text\"\r\n                        placeholder=\"输入并搜索....\"\r\n                        className=\"rounded-full bg-gray-100 focus-visible:ring-0\"\r\n                        value={searchValue}\r\n                        onChange={(e) => setSearchValue(e.target.value)}\r\n                    />\r\n                </form>\r\n\r\n                {/* 菜单按钮 */}\r\n                <div className=\"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center\">\r\n                    <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"20\"\r\n                        height=\"20\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"2\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                    >\r\n                        <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\r\n                        <circle cx=\"19\" cy=\"12\" r=\"1\"></circle>\r\n                        <circle cx=\"5\" cy=\"12\" r=\"1\"></circle>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 分类导航 - 水平滚动 */}\r\n            <div\r\n                ref={scrollContainerRef}\r\n                className=\"mt-3 overflow-x-auto scrollbar-hide whitespace-nowrap\"\r\n            >\r\n                {items.map((item) => (\r\n                    <button\r\n                        key={item.id}\r\n                        className={cn(\r\n                            \"px-3 py-1.5 mx-1 rounded-full text-sm transition-all duration-300\",\r\n                            activeId === item.id\r\n                                ? \"bg-black text-white shadow-md scale-[1.05]\"\r\n                                : \"bg-gray-100 hover:bg-gray-200\"\r\n                        )}\r\n                        onClick={(e) => {\r\n                            handleItemClick(item.id);\r\n                            scrollToCenter(e.currentTarget);\r\n                        }}\r\n                    >\r\n                        {item.name}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n","// src/utils/pathUtils.ts\r\nimport path from \"path\";\r\n\r\nexport const getImagePath = (path: string) => {\r\n    if (process.env.NODE_ENV === 'production') {\r\n        return `/sc_journal${path}`; // 生产环境添加仓库名前缀\r\n    }\r\n    return path;\r\n};\r\n\r\nexport const getDocsDirectoryPath = (relativePath: string) => {\r\n    const isProduction = process.env.NODE_ENV === 'production';\r\n    if (isProduction) {\r\n        return path.join('sc_journal', relativePath);\r\n    }\r\n    return `/public${path}`;\r\n};\r\n","\"use client\";\r\nimport PostCard from '@/components/layout/PostCard';\r\nimport MainNav from '@/components/layout/MainNav';\r\n// import BottomNav from '@/components/layout/BottomNav';\r\nimport { getImagePath } from '@/utils/pathUtils';\r\n\r\nconst navItems = [\r\n    {id: 1, name: \"推荐\"},\r\n    {id: 2, name: \"穿搭\"},\r\n    {id: 3, name: \"美食\"},\r\n    {id: 4, name: \"彩妆\"},\r\n    {id: 5, name: \"影视\"},\r\n    {id: 6, name: \"职场\"},\r\n];\r\n\r\n// const posts = [\r\n//     {\r\n//         id: 1,\r\n//         username: \"momo\",\r\n//         title: \"24年毕业的也是应届生啊\",\r\n//         content: `已读 18:55\\n我没有交社保\\n已读\\n我问问人事\\n还是按社招的\\n...我24届还能投校招`,\r\n//         likes: 143,\r\n//         comments: 21,\r\n//         tags: [\"应届生\", \"求职\"],\r\n//         coverColor: \"bg-gradient-to-r from-pink-100 to-purple-100\",\r\n//         imageUrl: \"/assets/cc/IMG20250524180948.jpg\",\r\n//     },\r\n//     {\r\n//         id: 2,\r\n//         username: \"沈阳考证情报局\",\r\n//         title: \"男生考证最新最全段位排行榜!202\",\r\n//         content: `2019考研\\n分析\\n男生考证最新最全段位排行榜!202\\n5搞钱必看`,\r\n//         likes: 1865,\r\n//         comments: 245,\r\n//         tags: [\"考证\", \"段位榜\"],\r\n//         coverColor: \"bg-gradient-to-r from-blue-100 to-cyan-100\",\r\n//         imageUrl: \"/assets/cc/IMG_20250617_001231.jpg\",\r\n//     },\r\n//     {\r\n//         id: 3,\r\n//         username: \"momo\",\r\n//         title: \"男友给我备注竟然是...气笑了\",\r\n//         content: `开通微信\\n登录\\n用户输入的内容无法进行下拉操作，无法进行实际文字输入。`,\r\n//         likes: 8715,\r\n//         comments: 1204,\r\n//         tags: [\"情感\", \"男友\"],\r\n//         coverColor: \"bg-gradient-to-r from-purple-100 to-pink-100\",\r\n//         imageUrl: \"/assets/cc/IMG_20250617_002505.jpg\",\r\n//\r\n//     },\r\n//     {\r\n//         id: 4,\r\n//         username: \"厦门热心市民\",\r\n//         title: \"开发一个这样的小程序大概多少预算能拿下\",\r\n//         likes: 61,\r\n//         comments: 8,\r\n//         tags: [\"开发\", \"预算\"],\r\n//         coverColor: \"bg-gradient-to-r from-yellow-100 to-orange-100\",\r\n//         imageUrl: \"/assets/cc/IMG_20250620_092648.jpg\",\r\n//     },\r\n// ];\r\n\r\n\r\nconst posts = [\r\n    {\r\n        id: 1,\r\n        username: \"momo\",\r\n        title: \"和他相遇的第30天\",\r\n        content: `今天特意去了我们第一次约会的咖啡店，点了一模一样的拿铁。\\n他在门口等我时偷偷系鞋带的样子，还是和那天一样可爱。\\n#纪念日 #恋爱日常`,\r\n        likes: 143,\r\n        comments: 21,\r\n        tags: [\"恋爱日常\", \"情侣打卡\"],\r\n        coverColor: \"bg-gradient-to-r from-pink-100 to-purple-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG20250524180948.jpg\"),\r\n    },\r\n    {\r\n        id: 2,\r\n        username: \"小红书情感局\",\r\n        title: \"恋爱段位排行榜（真实版）\",\r\n        content: `青铜：会发早安\\n白银：会记生日\\n黄金：会送小礼物\\n王者：会突然说“我爱你”\\n#恋爱段位 #情侣日常`,\r\n        likes: 1865,\r\n        comments: 245,\r\n        tags: [\"恋爱段位\", \"情侣日常\"],\r\n        coverColor: \"bg-gradient-to-r from-blue-100 to-cyan-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG_20250617_001231.jpg\"),\r\n    },\r\n    {\r\n        id: 3,\r\n        username: \"momo\",\r\n        title: \"男友的微信备注让我哭笑不得\",\r\n        content: `他的备注是：“人间小甜豆（已过期）”。\\n我问为什么加括号，他说：“因为你总嫌弃我发糖太晚。”\\n#恋爱趣事 #男友日常`,\r\n        likes: 8715,\r\n        comments: 1204,\r\n        tags: [\"恋爱趣事\", \"男友日常\"],\r\n        coverColor: \"bg-gradient-to-r from-purple-100 to-pink-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG_20250617_002505.jpg\"),\r\n    },\r\n    {\r\n        id: 4,\r\n        username: \"浪漫制造机\",\r\n        title: \"开发一个“爱情盲盒”小程序\",\r\n        content: `每天随机生成一句情话，附带一张你们的照片。\\n比如：“今天你的眼睛比上次更亮了～”\\n#情侣开发 #创意礼物`,\r\n        likes: 61,\r\n        comments: 8,\r\n        tags: [\"情侣开发\", \"创意礼物\"],\r\n        coverColor: \"bg-gradient-to-r from-yellow-100 to-orange-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG_20250620_092648.jpg\"),\r\n    },\r\n    {\r\n        id: 5,\r\n        username: \"心动实验室\",\r\n        title: \"情侣专属“情绪翻译器”小程序\",\r\n        content: `输入“我想你了”，他会自动回复：“我在煮面，多加了个蛋。”\\n#科技恋爱 #情侣日常`,\r\n        likes: 61,\r\n        comments: 8,\r\n        tags: [\"科技恋爱\", \"情侣日常\"],\r\n        coverColor: \"bg-gradient-to-r from-yellow-100 to-orange-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/3F77F5AF_IMG_5670.jpg\"),\r\n    },\r\n    {\r\n        id: 6,\r\n        username: \"恋爱脑研究所\",\r\n        title: \"情侣必看的“吵架修复”小程序\",\r\n        content: `输入“你总是忽略我”，他会生成：“抱歉！我刚刚在想你发的那条朋友圈。”\\n#恋爱技巧 #情侣日常`,\r\n        likes: 61,\r\n        comments: 8,\r\n        tags: [\"恋爱技巧\", \"情侣日常\"],\r\n        coverColor: \"bg-gradient-to-r from-yellow-100 to-orange-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG20250524191450.jpg\"),\r\n    },\r\n    {\r\n        id: 7,\r\n        username: \"浪漫代码师\",\r\n        title: \"用代码写的情书小程序\",\r\n        content: `点击按钮生成一行情话，比如：“你是我算法里的最优解。”\\n#程序员恋爱 #创意表白`,\r\n        likes: 61,\r\n        comments: 8,\r\n        tags: [\"程序员恋爱\", \"创意表白\"],\r\n        coverColor: \"bg-gradient-to-r from-yellow-100 to-orange-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG20250614133856.jpg\"),\r\n    },\r\n    {\r\n        id: 8,\r\n        username: \"恋爱灵感库\",\r\n        title: \"情侣专属“旅行计划”小程序\",\r\n        content: `输入城市名称，自动生成情侣旅行打卡路线。\\n比如：“巴黎：埃菲尔铁塔+塞纳河游船。”\\n#情侣旅行 #浪漫计划`,\r\n        likes: 61,\r\n        comments: 8,\r\n        tags: [\"情侣旅行\", \"浪漫计划\"],\r\n        coverColor: \"bg-gradient-to-r from-yellow-100 to-orange-100\",\r\n        imageUrl: getImagePath(\"/assets/cc/IMG20250614164551.jpg\"),\r\n    },\r\n];\r\n\r\n\r\n\r\nexport default function DiscoveryFeed() {\r\n\r\n    const handleCategoryChange = (categoryId: number) => {\r\n        console.log(\"当前分类ID:\", categoryId);\r\n    };\r\n\r\n    // 处理搜索\r\n    const handleSearch = (searchTerm: string) => {\r\n        console.log(\"搜索关键词:\", searchTerm);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <MainNav\r\n                items={navItems}\r\n                onCategoryChange={handleCategoryChange}\r\n                onSearch={handleSearch}\r\n            />\r\n            <main className=\"container mx-auto px-3 pb-16 pt-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                    {posts.map((post) => (\r\n                        <PostCard key={post.id} post={post}/>\r\n                    ))}\r\n                </div>\r\n            </main>\r\n            {/*<BottomNav />*/}\r\n        </div>\r\n    );\r\n}\r\n","import(/* webpackMode: \"eager\" */ \"D:\\\\code\\\\muxuetianyin-init\\\\frontEnd\\\\muxuetianyin-next\\\\src\\\\app\\\\discovery_feed\\\\page.tsx\");\n"],"names":["cn","inputs","twMerge","clsx","Input","className","type","props","input","data-slot","Card","div","CardHeader","CardTitle","CardContent","PostCard","post","imageUrl","Image","src","alt","title","fill","sizes","placeholder","blurDataURL","span","h3","content","p","tags","length","map","tag","index","MainNav","items","onCategoryChange","onSearch","activeId","setActiveId","useState","searchValue","setSearchValue","scrollContainerRef","useRef","handleItemClick","id","scrollToCenter","container","current","containerWidth","offsetWidth","elementLeft","element","offsetLeft","elementWidth","scrollTo","left","behavior","header","form","onSubmit","handleSearch","e","preventDefault","value","onChange","target","svg","xmlns","width","height","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","circle","cx","cy","r","ref","item","button","onClick","currentTarget","name","getImagePath","path","navItems","posts","username","likes","comments","coverColor","DiscoveryFeed","categoryId","handleCategoryChange","console","log","searchTerm","main"],"sourceRoot":"","ignoreList":[]}